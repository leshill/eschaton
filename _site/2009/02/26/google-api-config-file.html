<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width = 750">
    <link rel="stylesheet" type="text/css" href="/css/stylesheet.css" charset="utf-8">
    <title>google api config file</title>
    <script type="text/javascript" src="/javascript/jquery.js"></script>
    <script type="text/javascript" src="/javascript/fancyzoom.js"></script>    
  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      $(document).ready(function() {
        $('a.zoom').fancyZoom({scaleImg: true, closeOnClick: true, directory: '/images/fancy_zoom'});
      });
    </script>
    <div id="header" onclick="window.location.href = '/';">
       <h1>
         Eschaton
       </h1>
    </div>
    <div id="content">    

    
<h1 class="post_header">google api config file</h1>

<p>
I recently added support for putting google api keys into a yaml config file <span class="site_quote">(<b>config/eschaton_google_api_keys.yml</b>)</span>.
This config file will allow you to add keys for environments(development, test, staging and production) as well as 
for specific domain names.
</p>

<p>
If there is a domain name in the config file that matches your current domain name<span class="site_quote">(using ActionController::Request#domain)</span>
it will be honored over any environment keys. This allows for testing with sub domains even when in development mode.
</p>

<h3>For existing eschaton developers</h3>
<p>
  Existing developers will be familiar with the <span class="site_quote">GOOGLE_MAPS_API_KEY</span> constant.<br/>
  Follow these steps to start using the config file instead:
  <ol>
    <li>Pull the latest eschaton</li>
    <li>Create the file <span class="site_quote"><b>config/eschaton_google_api_keys.yml</b></span></li>
    <li>
      Add any environment and domain name keys in the above file, see <span class="site_quote"><b>generators/map/templates/eschaton_google_api_keys.yml</b></span>
      for a sample format
    </li>
    <li>Remove any reference to the <span class="site_quote">GOOGLE_MAPS_API_KEY</span> constant in your code.</li>
    <li>Restart your app</li>
  </ol>
</p>

<h3>For new eschaton developers</h3>
<p>
  The config file is now created as part of the map generator <span class="site_quote">script/generate map</span> so new
  developers can start using it right away.
</p>
<br/>
<hr/>          
      
<div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/yawningman-blog/embed.js"></script><noscript><a href="http://yawningman-blog.disqus.com/?url=ref">View the discussion thread.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
<script type="text/javascript">
//<![CDATA[
(function() {
		var links = document.getElementsByTagName('a');
		var query = '?';
		for(var i = 0; i < links.length; i++) {
			if(links[i].href.indexOf('#disqus_thread') >= 0) {
				query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
			}
		}
		document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/yawningman-blog/get_num_replies.js' + query + '"></' + 'script>');
	})();
//]]>
</script>

            
    </div>
    <div id="footer">
      
    </div>
  </body>
</html>
